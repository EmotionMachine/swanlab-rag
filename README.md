# Swanlab-RAGæ–‡æ¡£åŠ©æ‰‹æ„å»ºæ•™ç¨‹

SwanLab AI æ–‡æ¡£åŠ©æ‰‹**`ğŸ¤–`**æ˜¯ä¸€ä¸ªåŸºäº RAG (Retrieval-Augmented Generation) æŠ€æœ¯çš„Agenté—®ç­”ç³»ç»Ÿï¼Œä¸“é—¨é’ˆå¯¹ SwanLab å®˜æ–¹æ–‡æ¡£æ„å»ºã€‚å®ƒèƒ½å¤Ÿç†è§£æ‚¨çš„é—®é¢˜ï¼Œä»æ–‡æ¡£ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶æä¾›å‡†ç¡®çš„å›ç­”ã€‚

è¯¥é¡¹ç›®ä½¿ç”¨Gradioæ„å»º  Web ç”¨æˆ·ç•Œé¢**`ğŸŒ`**ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥åœ¨èŠå¤©æ¡†è¾“å…¥é—®é¢˜ï¼Œæ¨¡å‹ä¼šåŸºäº SwanLab å®˜æ–¹æ–‡æ¡£å†…å®¹å›ç­”é—®é¢˜å¹¶ä¸”æä¾›å›ç­”æ‰€ä¾æ®çš„æ–‡æ¡£é“¾æ¥ã€‚

------



## ä¸»è¦åŠŸèƒ½

- **æ–‡æ¡£è·å–**ï¼š`Agent`é¦–å…ˆä¼šè·å–ç›®æ ‡åœ°å€çš„æ‰€æœ‰`Markdown`æ–‡ä»¶ï¼Œå¹¶æ•´ç†æˆ`Json`æ ¼å¼ï¼ˆåŒ…å«`title, base_url, html_url` ç­‰å­—æ®µï¼‰ã€‚

- **æ–‡æ¡£åˆ†å—**ï¼šä¾æ¬¡è¯»å–æ¯ä¸ª`Markdown`æ–‡æ¡£ï¼ŒæŒ‰äºŒçº§æ ‡é¢˜æ•´ç†ä¸º`Chunk`ã€‚

- **æ–‡æ¡£æ£€ç´¢**ï¼šä»`Swanlab`æ–‡æ¡£ä¸­æ£€ç´¢æœ€ç›¸å…³çš„ä¿¡æ¯ç‰‡æ®µï¼Œå¢å¼ºå›ç­”çš„å‡†ç¡®æ€§ã€‚

- **æ™ºèƒ½é—®ç­”**ï¼šä½¿ç”¨`Gradio`æ„å»ºå‰ç«¯äº¤äº’é¡µé¢ï¼ŒåŸºäº`Swanlab`å®˜æ–¹æ–‡æ¡£å†…å®¹ï¼Œæä¾›å‡†ç¡®çš„é—®ç­”æœåŠ¡ã€‚

  ------

  

## å¿«é€Ÿå¼€å§‹

### âš™ï¸ç¯å¢ƒé…ç½®

- #### åŸºç¡€ç¯å¢ƒ

  æ¨èï¼špython>=3.10	

  ```bash
  # ä½¿ç”¨condaåˆ›å»ºç¯å¢ƒ
  
  conda create -n RAG python=3.10
  
  # å®‰è£…ç›¸å…³ä¾èµ–
  
  pip install aiohttp requests faiss-cpu numpy sqlite3 gradio flask 
  ```

- #### å¯é€‰ä¾èµ–

	å¦‚æœä½¿ç”¨æœ¬åœ° Embedding æ¨¡å‹è€Œé APIï¼Œéœ€è¦å®‰è£…`sentence-transformers`

	```bash
	pip install sentence-transformers
	```

- #### **APIå¯†é’¥é…ç½®**ğŸ”‘

â€‹	ä»£ç ä¸­éœ€è¦å¡«å†™ä»¥ä¸‹å¯†é’¥ï¼ˆåœ¨ `chat_logic_deploy.py` å’Œ `create_verctor.py` ä¸­ï¼‰ï¼š

```python
API_KEY = "å¡«å†™API_KEY"              # ä¾‹å¦‚ OpenAI æˆ–æœ¬åœ°æ¨¡å‹çš„ API å¯†é’¥
BASE_URL = "å¡«å†™APIçš„base_url"       # å¦‚ "https://api.openai.com/v1"
EMBEDDING_MODEL = "å¡«å†™Embeddingæ¨¡å‹" # å¦‚ "text-embedding-3-small"
LLM_MODEL = "å¡«å†™LLMæ¨¡å‹"            # å¦‚ "gpt-3.5-turbo"
```


### ğŸ“„æ–‡ä»¶ç»“æ„

	ç¡®ä¿é¡¹ç›®ç›®å½•åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š
	
	    ```text
	    .
	    â”œâ”€â”€Search/
	    â”‚ 	â”œâ”€â”€documents_analyzer_url.py	# æ–‡æ¡£è§£æä¸åˆ†å—
	    â”‚   â”œâ”€â”€scrape_docs_Internet.py		# è·å–æ–‡æ¡£
	    â”‚   â”œâ”€â”€ content.py                  # å†…å®¹æå–å·¥å…·
	    â”œâ”€â”€ faiss_index_scratch_1/       	# å‘é‡æ•°æ®åº“ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
	    â”‚   â”œâ”€â”€ index.faiss              	# Faiss ç´¢å¼•æ–‡ä»¶
	    â”‚   â””â”€â”€ index_to_chunk.json      	# å‘é‡-æ–‡æœ¬æ˜ å°„
	    â”œâ”€â”€ create_verctor.py            	# å‘é‡æ•°æ®åº“ç”Ÿæˆ
	    â”œâ”€â”€ chat_logic_deploy.py         	# èŠå¤©é€»è¾‘ä¸æ•°æ®åº“
	    â”œâ”€â”€ app_deploy.py                	# Gradio äº¤äº’ç•Œé¢
	    â”œâ”€â”€ swanlab_docs_Internet8-2.json 	# æ–‡æ¡£å…ƒæ•°æ®ï¼ˆURL/æ ‡é¢˜æ˜ å°„ï¼‰
	    â””â”€â”€ document_blocks.txt          	# åˆ†å—åçš„æ–‡æ¡£å†…å®¹ï¼ˆå¯é€‰ï¼‰
	    ```

------

## éƒ¨ç½²ä¸è¿è¡Œ**ğŸš€** 

- **å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®**: å°†æœ¬é¡¹ç›®æ‰€æœ‰æ–‡ä»¶æ”¾ç½®åœ¨æ‚¨ç”µè„‘ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚æˆ–è€…å‚è€ƒæœ¬é¡¹ç›®è‡ªå·±æ„å»ºã€‚

- **è·å–çŸ¥è¯†åº“æ–‡æ¡£**ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰ï¼šä¾æ¬¡é¡ºåºæ‰§è¡ŒğŸ”„ï¼Œä¿®æ”¹ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ã€‚æˆ–è€…è¿è¡Œå¦‚ä¸‹`bash`æŒ‡ä»¤ï¼Œä¿å­˜é»˜è®¤åœ°å€ã€‚

```bash
# 1. å…ˆçˆ¬å–æ–‡æ¡£å¹¶ç”ŸæˆJSONï¼ˆå¦‚æœéœ€è¦æ›´æ–°æ–‡æ¡£ï¼‰
python scrape_swanlab_docs_Internet.py && \

# 2. è§£ææ–‡æ¡£å¹¶åˆ†å—å­˜å‚¨
python documents_analyzer_url.py && \

# 3. æ‹¼æ¥æ–‡æ¡£å—
python content.py && \
```

- ç”Ÿæˆå‘é‡æ•°æ®åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰ï¼š

    ```bash
    python create_verctor.py
    ```

- å¯åŠ¨WebæœåŠ¡ï¼š

    ```bash
    python app_deploy.py
    ```

	- é»˜è®¤è®¿é—®åœ°å€ï¼š`http://localhost:7860`

    - å¦‚éœ€ HTTPSï¼Œéœ€é…ç½® SSL è¯ä¹¦è·¯å¾„ï¼ˆä¿®æ”¹ `app_deploy.py` ä¸­çš„ `ssl_keyfile` å’Œ `ssl_certfile`ï¼‰ã€‚

------

## æ³¨æ„äº‹é¡¹âš ï¸ 

-  **GitHub TokenğŸ”‘**ï¼ˆå¯é€‰ï¼‰
   - å¦‚æœä» GitHub çˆ¬å–æ–‡æ¡£ï¼ˆ`scrape_swanlab_docs_Internet.py`ï¼‰ï¼Œéœ€åœ¨ä»£ç ä¸­æ›¿æ¢ `GITHUB_TOKEN`ã€‚
-  **Faiss ç‰ˆæœ¬å…¼å®¹æ€§ğŸ**
   - ç¡®ä¿ `faiss-cpu` æˆ– `faiss-gpu` ç‰ˆæœ¬ä¸ Python ç¯å¢ƒåŒ¹é…ã€‚
-  **èµ„æºå ç”¨**ğŸ“Š****
   - å‘é‡æ£€ç´¢å¯èƒ½æ¶ˆè€—å†…å­˜ï¼Œå»ºè®®è‡³å°‘ 4GB å¯ç”¨å†…å­˜ã€‚
-  **ç½‘ç»œè¯·æ±‚**ğŸŒ****
   - å¦‚æœä½¿ç”¨å¤–éƒ¨ APIï¼ˆå¦‚ OpenAIï¼‰ï¼Œéœ€ç¡®ä¿ç½‘ç»œèƒ½è®¿é—® `BASE_URL`ã€‚
